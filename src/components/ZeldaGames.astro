---
import BaseLayout from '../layouts/BaseLayout.astro';
import SiteHeader from '../layouts/SiteHeader.astro';
import '../styles/global.css';

const response = await fetch('https://zelda.fanapis.com/api/games');
const data = await response.json();
const games = data.data; // Extract relevant game data
---

<BaseLayout>
  <SiteHeader />
  <main>
    <h1>Zelda Games</h1>
    <div id="zelda-container">
      {games.map((game) => (
        <figure key={game.id}>
          <h2>{game.name}</h2>
          <figcaption>{game.description}</figcaption>
          <p><strong>Developer:</strong> {game.developer}</p>
          <p><strong>Publisher:</strong> {game.publisher}</p>
          <p><strong>Release Date:</strong> {game.released_date}</p>
        </figure>
      ))}
    </div>
  </main>
</BaseLayout>